{"ast":null,"code":"import React from'react';import styled from'styled-components';import Rating from'@mui/material/Rating';import ThumbUpOffAltIcon from'@mui/icons-material/ThumbUpOffAlt';import timeSince from\"../utils/timeSince.js\";import{userRequest}from'../axiosReqMethods.js';import{setError}from'../redux/errorRedux.js';import{useDispatch}from'react-redux';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n    display: flex;\n    gap: 10px;\n`;const Left=styled.div`\n\n`;const Avatar=styled.img`\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n`;const Right=styled.div`\n    width: 100%;\n`;const Name=styled.p`\n    margin: 15px 0px;\n    font-size: 20px;\n    font-weight: 500;\n`;const Star=styled.div`\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 10px;\n`;const Date=styled.span``;const Review=styled.div``;const Feedback=styled.div`\n    margin: 10px 0px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n`;const Helpful=styled.div`\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    cursor: pointer;\n    :hover {\n        color: blue;\n    }\n`;const Report=styled.div`\n    color: red;\n    cursor: pointer;\n\n    :hover {\n        text-decoration: underline;\n    }\n`;function ReviewSingleComp(_ref){let{review}=_ref;const dispatch=useDispatch();const handleUpVote=async()=>{try{const{data}=await userRequest.put(`/api/review/upvote/${review._id}`);dispatch(setError(data.message));}catch(error){console.log(error);dispatch(setError(error.response.data.message));}};const handleReport=async()=>{try{const{data}=await userRequest.put(`/api/review/abuse/${review._id}`);dispatch(setError(data.message));}catch(error){console.log(error);dispatch(setError(error.response.data.message));}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Left,{children:/*#__PURE__*/_jsx(Avatar,{src:review.user.avatar})}),/*#__PURE__*/_jsxs(Right,{children:[/*#__PURE__*/_jsx(Name,{children:`${review.user.firstName} ${review.user.lastName}`}),/*#__PURE__*/_jsxs(Star,{children:[/*#__PURE__*/_jsx(Rating,{value:review.rating,readOnly:true,precision:0.1}),/*#__PURE__*/_jsx(Date,{children:timeSince(review.createdAt)})]}),/*#__PURE__*/_jsx(Review,{children:review.review}),/*#__PURE__*/_jsxs(Feedback,{children:[/*#__PURE__*/_jsxs(Helpful,{onClick:handleUpVote,children:[/*#__PURE__*/_jsx(ThumbUpOffAltIcon,{style:{fontSize:\"30px\"}}),\"   Helpful?\"]}),/*#__PURE__*/_jsx(Report,{onClick:handleReport,children:\"Report as inappropriate\"})]})]})]});}export default ReviewSingleComp;","map":{"version":3,"names":["React","styled","Rating","ThumbUpOffAltIcon","timeSince","userRequest","setError","useDispatch","jsx","_jsx","jsxs","_jsxs","Container","div","Left","Avatar","img","Right","Name","p","Star","Date","span","Review","Feedback","Helpful","Report","ReviewSingleComp","_ref","review","dispatch","handleUpVote","data","put","_id","message","error","console","log","response","handleReport","children","src","user","avatar","firstName","lastName","value","rating","readOnly","precision","createdAt","onClick","style","fontSize"],"sources":["M:/first-react/panara/react/src/components/ReviewSingleComp.js"],"sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Rating from '@mui/material/Rating';\r\nimport ThumbUpOffAltIcon from '@mui/icons-material/ThumbUpOffAlt';\r\nimport timeSince from \"../utils/timeSince.js\"\r\nimport { userRequest } from '../axiosReqMethods.js';\r\nimport { setError } from '../redux/errorRedux.js';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    gap: 10px;\r\n`\r\nconst Left = styled.div`\r\n\r\n`\r\n\r\nconst Avatar = styled.img`\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n`\r\n\r\nconst Right = styled.div`\r\n    width: 100%;\r\n`\r\nconst Name = styled.p`\r\n    margin: 15px 0px;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n`\r\nconst Star = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n    margin-bottom: 10px;\r\n`\r\nconst Date = styled.span``\r\nconst Review = styled.div``\r\nconst Feedback = styled.div`\r\n    margin: 10px 0px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n`\r\nconst Helpful = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n    cursor: pointer;\r\n    :hover {\r\n        color: blue;\r\n    }\r\n`\r\nconst Report = styled.div`\r\n    color: red;\r\n    cursor: pointer;\r\n\r\n    :hover {\r\n        text-decoration: underline;\r\n    }\r\n`\r\n\r\n\r\nfunction ReviewSingleComp({review}) {\r\n    const dispatch = useDispatch();\r\n    const handleUpVote = async () => {\r\n        try {\r\n            const {data} = await userRequest.put(`/api/review/upvote/${review._id}`)\r\n            dispatch(setError(data.message))\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch(setError(error.response.data.message))\r\n        }\r\n    }   \r\n\r\n    const handleReport = async () => {\r\n        try {\r\n            const {data} = await userRequest.put(`/api/review/abuse/${review._id}`)\r\n            dispatch(setError(data.message))\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch(setError(error.response.data.message))\r\n        }\r\n    }   \r\n\r\n  return (\r\n    <Container>\r\n        <Left>\r\n            <Avatar src={review.user.avatar} />\r\n        </Left>\r\n        <Right>\r\n            <Name>{`${review.user.firstName} ${review.user.lastName}`}</Name>\r\n            <Star>\r\n                <Rating value={review.rating} readOnly precision={0.1} />\r\n                <Date>{timeSince(review.createdAt)}</Date>\r\n            </Star>\r\n            <Review>\r\n                {review.review}\r\n            </Review>\r\n            <Feedback>\r\n                <Helpful onClick={handleUpVote}>\r\n                    <ThumbUpOffAltIcon style={{fontSize: \"30px\"}}/>   Helpful?\r\n                </Helpful>\r\n                <Report onClick={handleReport} >Report as inappropriate</Report>\r\n            </Feedback>\r\n        </Right>  \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ReviewSingleComp"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}