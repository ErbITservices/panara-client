{"ast":null,"code":"import React,{useState}from'react';import ModalComp from'./ModalComp';import styled from'styled-components';import{Rating}from'@mui/material';import{userRequest}from'../axiosReqMethods';import{useDispatch,useSelector}from'react-redux';import{setError}from'../redux/errorRedux';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n    text-align: center;\n`;const UserWrapper=styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 10px;\n`;const Image=styled.img`\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n`;const Name=styled.span`\n    font-size: 20px;\n`;const RatingWrapper=styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n    max-height: 300px;\n`;const TextBox=styled.textarea`\n    width: 400px;\n    max-width: 90%;\n    border: 3px solid teal;\n    font-size: 15px;\n    padding: 10px 10px;\n    height: 150px;\n    border-radius: 1vmin;\n\n`;const ButtonWrapper=styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n`;const Button=styled.button`\n    margin: 10px;      \n    padding: 10px 20px;\n    border-radius: 1vmax;\n    border: 1px solid teal;\n    background-color: ${p=>(p===null||p===void 0?void 0:p.T)===\"submit\"?\"teal\":\"white\"};;\n    font-weight: 600;\n    color: ${p=>p.T===\"submit\"?\"white\":\"teal\"};\n    cursor: pointer;\n\n    &:disabled {\n        background-color: #c0f3f3;\n        border: 1px solid #c0f3f3;\n        cursor: not-allowed;\n        color: black;\n    }\n`;function WriteaReview(_ref){let{product,isOpen,setModal}=_ref;const dispatch=useDispatch();const user=useSelector(d=>d.user.currentUser);const[review,setReview]=useState(\"\");const[rating,setRating]=useState(0);const handleSubmit=async()=>{try{const{data}=await userRequest.post(`/api/review/${product._id}`,{rating,review});dispatch(setError(data.message));setModal(false);}catch(error){dispatch(setError(error.response.data.message));setRating(0);setReview(\"\");}};return/*#__PURE__*/_jsx(ModalComp,{isOpen:isOpen,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:product.title}),/*#__PURE__*/_jsxs(UserWrapper,{children:[/*#__PURE__*/_jsx(Image,{src:user===null||user===void 0?void 0:user.avatar}),/*#__PURE__*/_jsx(Name,{children:`${user===null||user===void 0?void 0:user.firstName} ${user===null||user===void 0?void 0:user.lastName}`})]}),/*#__PURE__*/_jsxs(RatingWrapper,{children:[/*#__PURE__*/_jsx(Rating,{style:{fontSize:\"40px\"},value:rating,onChange:(e,newValue)=>{setRating(newValue);},precision:0.1}),/*#__PURE__*/_jsx(TextBox,{placeholder:\"Share your thoughts on this product...\",value:review,onChange:e=>setReview(e.target.value)})]}),/*#__PURE__*/_jsxs(ButtonWrapper,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{T:\"submit\",onClick:handleSubmit,disabled:!review&&!rating?true:false,children:\"Submit\"})]})]})});}export default WriteaReview;","map":{"version":3,"names":["React","useState","ModalComp","styled","Rating","userRequest","useDispatch","useSelector","setError","jsx","_jsx","jsxs","_jsxs","Container","div","UserWrapper","Image","img","Name","span","RatingWrapper","TextBox","textarea","ButtonWrapper","Button","button","p","T","WriteaReview","_ref","product","isOpen","setModal","dispatch","user","d","currentUser","review","setReview","rating","setRating","handleSubmit","data","post","_id","message","error","response","children","title","src","avatar","firstName","lastName","style","fontSize","value","onChange","e","newValue","precision","placeholder","target","onClick","disabled"],"sources":["M:/first-react/panara/react/src/components/WriteaReview.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport ModalComp from './ModalComp'\r\nimport styled from 'styled-components'\r\nimport { Rating } from '@mui/material'\r\nimport { userRequest } from '../axiosReqMethods'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setError } from '../redux/errorRedux'\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 20px;\r\n    text-align: center;\r\n`\r\nconst UserWrapper = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    gap: 10px;\r\n`\r\nconst Image = styled.img`\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n`\r\nconst Name = styled.span`\r\n    font-size: 20px;\r\n`\r\nconst RatingWrapper = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 10px;\r\n    max-height: 300px;\r\n`\r\nconst TextBox = styled.textarea`\r\n    width: 400px;\r\n    max-width: 90%;\r\n    border: 3px solid teal;\r\n    font-size: 15px;\r\n    padding: 10px 10px;\r\n    height: 150px;\r\n    border-radius: 1vmin;\r\n\r\n`\r\nconst ButtonWrapper = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: flex-end;\r\n`\r\nconst Button = styled.button`\r\n    margin: 10px;      \r\n    padding: 10px 20px;\r\n    border-radius: 1vmax;\r\n    border: 1px solid teal;\r\n    background-color: ${p => p?.T===\"submit\" ? \"teal\": \"white\"};;\r\n    font-weight: 600;\r\n    color: ${p => p.T===\"submit\" ? \"white\": \"teal\"};\r\n    cursor: pointer;\r\n\r\n    &:disabled {\r\n        background-color: #c0f3f3;\r\n        border: 1px solid #c0f3f3;\r\n        cursor: not-allowed;\r\n        color: black;\r\n    }\r\n`\r\n\r\n\r\nfunction WriteaReview({product, isOpen, setModal}) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(d => d.user.currentUser)\r\n    const [review, setReview] = useState(\"\")\r\n    const [rating, setRating] = useState(0)\r\n\r\n    const handleSubmit = async () => {\r\n        try {           \r\n            const {data} = await userRequest.post(`/api/review/${product._id}`,{rating, review})\r\n            dispatch(setError(data.message))\r\n            setModal(false)\r\n        } catch (error) {\r\n            dispatch(setError(error.response.data.message))\r\n            setRating(0)\r\n            setReview(\"\")\r\n        }\r\n    }\r\n\r\n  return (\r\n    <ModalComp isOpen={isOpen}>\r\n        <Container>\r\n            <h1>{product.title}</h1>\r\n            <UserWrapper>\r\n                <Image src={user?.avatar} />\r\n                <Name>{`${user?.firstName} ${user?.lastName}`}</Name>\r\n            </UserWrapper>\r\n            <RatingWrapper>\r\n                <Rating \r\n                    style={{fontSize: \"40px\"}} \r\n                    value={rating} \r\n                    onChange={(e, newValue) => {\r\n                        setRating(newValue);\r\n                    }}\r\n                    precision={0.1}\r\n                >           \r\n                </Rating>\r\n                <TextBox placeholder='Share your thoughts on this product...' value={review} onChange={(e) => setReview(e.target.value)}></TextBox>\r\n            </RatingWrapper>\r\n            <ButtonWrapper>\r\n                <Button onClick={() => setModal(false)} >Cancel</Button>\r\n                <Button T=\"submit\" onClick={handleSubmit} disabled={!review && !rating ? true : false}>Submit</Button>\r\n            </ButtonWrapper>\r\n        </Container>\r\n    </ModalComp>\r\n\r\n  )\r\n}\r\n\r\nexport default WriteaReview"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}