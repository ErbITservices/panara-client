{"ast":null,"code":"import React,{useEffect,useState}from'react';import Announcments from'../components/Announcments';import Footer from'../components/Footer';import Navbar from'../components/Navbar';import NewsLetter from'../components/NewsLetter';import styled from'styled-components';import SingleOrderSection from'../components/SingleOrderSection';import{userRequest}from'../axiosReqMethods';import{useSelector}from'react-redux';import ProductNotFound from'../components/ProductNotFound.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div`\n    width: 100%;\n    background-color: ${p=>p.isOrders?\" #e0dede\":\"white\"};\n    padding: 20px 0px;\n`;const TopSection=styled.div`\n    display: flex;\n    margin-bottom: 20px;\n\n`;const Title=styled.h1`\n    margin-left: 10px;\n`;const Desc=styled.span`\n\n`;const BottomSection=styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    gap: 15px;\n`;function OrdersPage(){const user=useSelector(state=>{var _state$user;return(_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.currentUser;});const[orders,setOrders]=useState([]);useEffect(()=>{const fetchOrders=async()=>{try{const{data}=await userRequest.get(`/api/orders/find/${user._id}`);setOrders(data);console.log(data);}catch(error){setOrders([]);}};fetchOrders();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Announcments,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Container,{isOrders:orders.length,children:!orders.length?/*#__PURE__*/_jsx(ProductNotFound,{title:\"No Orders Found\",desc:\"Sorry, it looks like you haven't placed any orders yet.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(TopSection,{children:/*#__PURE__*/_jsx(Title,{children:\"Your Orders\"})}),/*#__PURE__*/_jsx(BottomSection,{children:orders.map(i=>{return/*#__PURE__*/_jsx(SingleOrderSection,{order:i},i._id);})})]})}),/*#__PURE__*/_jsx(NewsLetter,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default OrdersPage;","map":{"version":3,"names":["React","useEffect","useState","Announcments","Footer","Navbar","NewsLetter","styled","SingleOrderSection","userRequest","useSelector","ProductNotFound","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","p","isOrders","TopSection","Title","h1","Desc","span","BottomSection","OrdersPage","user","state","_state$user","currentUser","orders","setOrders","fetchOrders","data","get","_id","console","log","error","children","length","title","desc","className","map","i","order"],"sources":["M:/first-react/panara/react/src/pages/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Announcments from '../components/Announcments'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport NewsLetter from '../components/NewsLetter'\r\nimport styled from 'styled-components'\r\nimport SingleOrderSection from '../components/SingleOrderSection'\r\nimport { userRequest } from '../axiosReqMethods'\r\nimport { useSelector } from 'react-redux'\r\nimport ProductNotFound from '../components/ProductNotFound.js'\r\n\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    background-color: ${p => p.isOrders ? \" #e0dede\" : \"white\"};\r\n    padding: 20px 0px;\r\n`\r\nconst TopSection = styled.div`\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n\r\n`\r\nconst Title = styled.h1`\r\n    margin-left: 10px;\r\n`\r\nconst Desc = styled.span`\r\n\r\n`\r\n\r\nconst BottomSection = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n`\r\n\r\n\r\n\r\n\r\n\r\nfunction OrdersPage() {\r\n    const user = useSelector(state => state.user?.currentUser);\r\n    const [orders, setOrders] = useState([])\r\n\r\n    useEffect(() => {\r\n      const fetchOrders = async () => {\r\n        try {\r\n            const {data} = await userRequest.get(`/api/orders/find/${user._id}`)\r\n            setOrders(data)\r\n            console.log(data)\r\n        } catch (error) {\r\n            setOrders([])\r\n        }\r\n      }\r\n      fetchOrders()\r\n    }, [])\r\n    \r\n  return (\r\n    <>\r\n        <Announcments/>\r\n        <Navbar/>\r\n        <Container isOrders={orders.length}>\r\n\r\n            {!orders.length ? <ProductNotFound title=\"No Orders Found\" desc=\"Sorry, it looks like you haven't placed any orders yet.\"/>  \r\n                : <div className=\"container\">\r\n                    <TopSection>\r\n                        <Title>Your Orders</Title>\r\n                    </TopSection>\r\n                    <BottomSection>\r\n                        {orders.map(i => {\r\n                                return <SingleOrderSection key={i._id} order={i}  />\r\n                            })}\r\n                    </BottomSection>\r\n                </div>\r\n            }\r\n        </Container>\r\n        <NewsLetter/>\r\n        <Footer/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default OrdersPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}