{"ast":null,"code":"import { Start, loginSucces, Failed, signUpSucces, signupFailed, resetError } from './userRedux';\nimport { publicRequest } from '../axiosReqMethods';\nimport { setError } from './errorRedux';\nimport { useNavigate } from 'react-router-dom';\n//login\nexport const login = async (dispatch, user) => {\n  const {\n    email,\n    password,\n    ip\n  } = user;\n  console.log(ip);\n  dispatch(Start());\n  try {\n    const res = await publicRequest.post(\"api/auth/login\", {\n      email,\n      password\n    });\n    console.log(user);\n    dispatch(loginSucces(res.data));\n    navigator(\"/\");\n  } catch (error) {\n    dispatch(Failed(error.response.data.message));\n    dispatch(setError(error.response.data.message));\n    //reseting error\n    setTimeout(() => {\n      dispatch(resetError());\n    }, 5000);\n  }\n};\n\n//signup\nexport const signUp = async (dispatch, user) => {\n  dispatch(Start());\n  try {\n    const res = await publicRequest.post(\"api/auth/register\", user);\n    dispatch(signUpSucces(res.data));\n    return true;\n  } catch (error) {\n    dispatch(signupFailed(error.response.data.message));\n    dispatch(setError(error.response.data.message));\n\n    //reseting error\n    setTimeout(() => {\n      dispatch(resetError());\n    }, 5000);\n  }\n};","map":{"version":3,"names":["Start","loginSucces","Failed","signUpSucces","signupFailed","resetError","publicRequest","setError","useNavigate","login","dispatch","user","email","password","ip","console","log","res","post","data","navigator","error","response","message","setTimeout","signUp"],"sources":["C:/Users/Mihir k/first-react/panara/react/src/redux/apiCalls.js"],"sourcesContent":["import { Start, loginSucces, Failed, signUpSucces, signupFailed, resetError  } from './userRedux';\r\nimport { publicRequest } from '../axiosReqMethods';\r\nimport { setError } from './errorRedux';\r\nimport { useNavigate } from 'react-router-dom';\r\n//login\r\nexport const login = async ( dispatch, user ) => {\r\n    const { email, password, ip } = user;\r\n    \r\n    console.log(ip)\r\n    dispatch(Start())\r\n    try {\r\n        const res = await publicRequest.post(\"api/auth/login\", {email, password})\r\n        console.log(user)\r\n        dispatch(loginSucces(res.data))\r\n        navigator(\"/\")\r\n    } catch (error) {\r\n        dispatch(Failed(error.response.data.message))\r\n        dispatch(setError(error.response.data.message))\r\n        //reseting error\r\n        setTimeout(() => {\r\n            dispatch(resetError())\r\n        }, 5000);\r\n    }\r\n}\r\n\r\n//signup\r\nexport const signUp = async ( dispatch, user) => {\r\n    \r\n    dispatch(Start())\r\n    try {\r\n        const res = await publicRequest.post(\"api/auth/register\", user)   \r\n        dispatch(signUpSucces(res.data))\r\n        \r\n        return true;\r\n    } catch (error) {  \r\n        dispatch(signupFailed(error.response.data.message));\r\n        dispatch(setError(error.response.data.message))\r\n\r\n        //reseting error\r\n        setTimeout(() => {\r\n            dispatch(resetError())\r\n        }, 5000);\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,WAAW,EAAEC,MAAM,EAAEC,YAAY,EAAEC,YAAY,EAAEC,UAAU,QAAS,aAAa;AACjG,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,QAAQ,QAAQ,cAAc;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;AACA,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAQC,QAAQ,EAAEC,IAAI,KAAM;EAC7C,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAAG,CAAC,GAAGH,IAAI;EAEpCI,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;EACfJ,QAAQ,CAACV,KAAK,CAAC,CAAC,CAAC;EACjB,IAAI;IACA,MAAMiB,GAAG,GAAG,MAAMX,aAAa,CAACY,IAAI,CAAC,gBAAgB,EAAE;MAACN,KAAK;MAAEC;IAAQ,CAAC,CAAC;IACzEE,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACjBD,QAAQ,CAACT,WAAW,CAACgB,GAAG,CAACE,IAAI,CAAC,CAAC;IAC/BC,SAAS,CAAC,GAAG,CAAC;EAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZX,QAAQ,CAACR,MAAM,CAACmB,KAAK,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC;IAC7Cb,QAAQ,CAACH,QAAQ,CAACc,KAAK,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC;IAC/C;IACAC,UAAU,CAAC,MAAM;MACbd,QAAQ,CAACL,UAAU,CAAC,CAAC,CAAC;IAC1B,CAAC,EAAE,IAAI,CAAC;EACZ;AACJ,CAAC;;AAED;AACA,OAAO,MAAMoB,MAAM,GAAG,MAAAA,CAAQf,QAAQ,EAAEC,IAAI,KAAK;EAE7CD,QAAQ,CAACV,KAAK,CAAC,CAAC,CAAC;EACjB,IAAI;IACA,MAAMiB,GAAG,GAAG,MAAMX,aAAa,CAACY,IAAI,CAAC,mBAAmB,EAAEP,IAAI,CAAC;IAC/DD,QAAQ,CAACP,YAAY,CAACc,GAAG,CAACE,IAAI,CAAC,CAAC;IAEhC,OAAO,IAAI;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZX,QAAQ,CAACN,YAAY,CAACiB,KAAK,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC;IACnDb,QAAQ,CAACH,QAAQ,CAACc,KAAK,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC;;IAE/C;IACAC,UAAU,CAAC,MAAM;MACbd,QAAQ,CAACL,UAAU,CAAC,CAAC,CAAC;IAC1B,CAAC,EAAE,IAAI,CAAC;EACZ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}