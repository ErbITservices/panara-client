{"ast":null,"code":"import React,{useEffect,useState}from'react';import Announcments from'../components/Announcments';import Navbar from'../components/Navbar';import styled from'styled-components';import NewsLetter from'../components/NewsLetter';import Footer from'../components/Footer';import{Add,ClearOutlined,Remove}from'@material-ui/icons';import{mobile}from'../Responsive';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{userRequest}from'../axiosReqMethods';import{deleteProduct}from'../redux/cartRedux';import addDynamicScript from'../helpers/addDynamicScript';import{setError}from'../redux/errorRedux';import EmptyCartComponent from'../components/EmptyCartComponent';import Loading from'../components/Loading';import{setAddress}from'../redux/userRedux';import GetUserAddress from'../components/GetUserAddress';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div``;const Wrapper=styled.div`\n    padding: 20px;\n`;const Title=styled.div`\n    font-weight: 300;\n    text-align: center;\n`;const Top=styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 20px;\n`;const TopButton=styled.button`\n    padding: 10px;\n    font-weight: 600;\n    cursor: pointer;\n    border: ${props=>props.type===\"filled\"&&\"none\"};\n    background-color: ${props=>props.type===\"filled\"?\"Black\":\"transparent\"};\n    color: ${props=>props.type===\"filled\"&&\"white\"};\n    \n`;const TopTexts=styled.div`\n    ${mobile({display:\"none\"})} \n`;const TopText=styled.span`\n    text-decoration: underline;\n    cursor: pointer;\n    margin: 10px;\n`;const Bottom=styled.div`\n    display: flex;\n    justify-content: space-between;\n    //flex-direction: column;\n    @media only screen and (max-width: 970px) {\n        flex-direction: column;\n        align-items: center;       \n    }\n`;const Info=styled.div`\n    flex: 3;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    @media only screen and (max-width: 970px) {\n        align-items: center;       \n    }\n\n`;const Product=styled.div`\n    flex: 2;\n    display: flex;\n    margin: 10px 0px;\n    position: relative;\n    overflow: hidden;\n    background-color: #f7f7f7;\n    margin-right: 20px;\n    transition: all 0.3s ease-in-out;\n\n    ${mobile({flexDirection:\"column\",margin:\"10px 5px\"})} \n    @media only screen and (max-width: 970px) {\n        width: 99%;\n    }\n\n    :hover{\n      box-shadow: 0px 0px 5px #888888;\n      transform: scale(1.02);\n    }\n`;const DelButton=styled.div`\n    \n    position: absolute;\n    right: 0px;\n    top: 0px;\n\n    ${mobile({top:\"45%\"})}\n    \n`;const ProductDeteail=styled.div`\n    flex: 2;\n    width: 100%;\n    display: flex;\n    ${mobile({flex:\"1\",width:\"100vw\"})} \n`;const Image=styled.img`\n    width: 200px;\n    max-width: 30%;\n    object-fit: cover;\n\n`;const Details=styled.div`\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    max-width: fit-content;\n    padding-right: 10px;\n    justify-content: space-around;\n    margin: 10px;\n    ${mobile({width:\"100%\"})} \n    `;const ProductName=styled.span`\n`;const ProductNumber=styled.span``;const ProductColor=styled.div`\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    background-color: ${props=>props.color};\n`;const ProductSize=styled.span``;const PriceDeteail=styled.div`    \n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    ${mobile({marginTop:\"1rem\"})} \n    \n`;const ProductAmmountContainer=styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-weight: 700;\n    \n    \n`;const ValueARButton=styled.div`\n    cursor: pointer;\n    margin: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    &:active {\n        transform:scale(1.1);\n     }\n`;const ProductAmmount=styled.div`\n    height: 30px;\n    width: 30px; \n    border: solid 1px teal;\n    padding :5px ;\n    border-radius: 10%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n`;const ProductPrice=styled.span`\n    margin: 20px 0px;\n    font-weight: 600;\n    font-size: 1.2rem;\n    &:hover {\n        transform: scale(1.1);\n    }\n`;const Hr=styled.hr`\n    background-color: #eee;\n    height: 1px;\n    border: none;\n`;const Summary=styled.div`\n    flex: 1;\n    max-height: 50vh;\n    width: 350px;\n    max-width: 100%;\n    border: solid lightgray 1px;\n    border-radius: 2vmax;\n    padding: 10px;\n    @media only screen and (max-width: 970px) {\n        width: 90%;\n    }\n`;const SummaryTitle=styled.h1`\n    font-weight: 300;\n    margin: 10px 0px;\n`;const SummaryItem=styled.div`\n    display: flex;\n    justify-content: space-between;\n    margin: 5px 0px;\n    font-weight: ${props=>props.type===\"total\"&&600};\n    font-size: ${props=>props.type===\"total\"&&1.2}rem;\n    margin: ${props=>props.type===\"total\"&&10}px 0px;\n`;const SummaryText=styled.div`\n    white-space: nowrap;\n    width: 80%; \n    overflow: hidden;\n`;const SummaryPrice=styled.div`\n    \n`;const ButtonWrapper=styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;const Button=styled.button`\n    background-color: black;\n    cursor: pointer;   \n    color: white;\n    border: none;\n    padding: 20px;\n    width: 80%;\n    margin-top: 20px;\n\n    :disabled {\n        background-color: #6b6d70;\n        cursor: not-allowed;\n    }\n\n    ${mobile({width:\"50%\",borderRadius:\"5%\"})} \n    \n    \n`;function CartPage(props){var _cartProductRes$produ,_cartProductRes$produ4,_cartProductRes$produ5;const dispatch=useDispatch();const navigate=useNavigate();const[cartProductRes,setCartProductRes]=useState();const[fetchCartLoading,setFetchCartLoading]=useState();//to change title as soon as component mounts\nuseEffect(()=>{document.title=`PanaraIt - ${props.title}`;},[]);// eslint-disable-line react-hooks/exhaustive-deps\nconst user=useSelector(state=>{var _state$user;return state===null||state===void 0?void 0:(_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.currentUser;});//get User Cart\nuseEffect(async()=>{if(user){try{setFetchCartLoading(true);const res=await userRequest.get(`/api/cart/info/${user._id}`);setFetchCartLoading(false);setCartProductRes(res.data);}catch(err){console.log(\"error\",err);setFetchCartLoading(false);dispatch(setError(err.response.data.message));//setting error       \n}}return()=>{setCartProductRes(null);};},[]);//count cart total\nconst[totalCartPrice,setTotalCartPrice]=useState(0);useEffect(()=>{const total=cartProductRes===null||cartProductRes===void 0?void 0:cartProductRes.products.reduce((total,item)=>{return total+item.price*item.quantity;},0);setTotalCartPrice(total);},[cartProductRes===null||cartProductRes===void 0?void 0:cartProductRes.products,cartProductRes===null||cartProductRes===void 0?void 0:(_cartProductRes$produ=cartProductRes.products)===null||_cartProductRes$produ===void 0?void 0:_cartProductRes$produ.map(p=>p.quantity)]);//map is used bcz we need to reRender this component if any products quantity changes so we maped true every product quantity\n//delete product\nconst handleDeleteProduct=async id=>{try{var _cartProductRes$produ2;const filteredProducts=cartProductRes===null||cartProductRes===void 0?void 0:(_cartProductRes$produ2=cartProductRes.products)===null||_cartProductRes$produ2===void 0?void 0:_cartProductRes$produ2.filter(p=>{return id!==p.productID;});setCartProductRes(e=>({...e,products:filteredProducts}));dispatch(deleteProduct());const res=await userRequest.delete(`/api/cart/${id}`);dispatch(setError(res.data.message));}catch(error){console.log(\"error\",error);dispatch(setError(error.response.data.message));}};//handle dec inc in product Quantity\nconst handleProductQuantityChange=async(productID,quantity)=>{if(quantity===0)return handleDeleteProduct(productID);try{const res=await userRequest.put(`/api/cart/updatequantity/${productID}/${quantity}`);const productIndex=cartProductRes.products.findIndex(p=>p.productID===productID);console.log({productIndex});const newProduct=cartProductRes.products[productIndex].quantity=quantity;setCartProductRes(p=>({...p,newProduct}));dispatch(setError(res.data.message));}catch(error){console.log(error);dispatch(setError(error.response.data.message));}};//get use address modal\nconst[addmodalisOpen,setaddmodalIsOpen]=useState(false);const[isCheckoutLoading,setischeckoutLoading]=useState(false);const userAddress=useSelector(state=>state.user.address);const handleCheckout=async()=>{var _cartProductRes$produ3;if(!user){return navigate('/login');}// if there is address then continue or set get address popup\nconsole.log({userAddress});if(!userAddress){//if address is not stored in users local storage then get from db\ntry{const{data}=await userRequest.get(\"/api/user/address\");console.log(data);if(!data.ok){return setaddmodalIsOpen(true);}dispatch(setAddress(data.address));//setting address wh to redux       \n}catch(error){return setaddmodalIsOpen(true);}}console.log(\"Mihir1\");setischeckoutLoading(true);if(!window.Razorpay){await addDynamicScript(\"https://checkout.razorpay.com/v1/checkout.js\");//script is not loading at first time dk why so i added this XD\n}console.log(\"Mihir2\");const{data:{order}}=await userRequest.post(\"api/buy/checkout\",{user:user._id,type:\"cart\",userInfo:{address:userAddress,name:`${user.firstName} ${user.lastName}`,email:user.email}});console.log(\"MIhir3\");const{data:{key}}=await userRequest.get(\"api/buy/getkey\");setischeckoutLoading(false);if(!order||!key){return dispatch(setError(\"error accured while creating order\"));}const options={key:key,//reciving key from backend for security purpose\namount:order.ammount,currency:\"INR\",name:`${user.firstName} ${user.lastName}'s Cart`,description:`${user.firstName} ${user.lastName}'s Cart includes total ${cartProductRes===null||cartProductRes===void 0?void 0:(_cartProductRes$produ3=cartProductRes.products)===null||_cartProductRes$produ3===void 0?void 0:_cartProductRes$produ3.length}`,image:\"https://toppng.com/uploads/preview/astronaut-art-png-jpg-royalty-free-stock-astronauta-dibujo-11562856188offwkk8qo8.png\",order_id:order.id,//This is a sample Order ID. Pass the `id` obtained in the response of Step 1\ncallback_url:\"https://panara-backend-1.onrender.com/api/buy/paymentVerify\",prefill:{name:`${user.firstName} ${user.lastName}`,email:user.email,contact:user.number},notes:{address:\"Razorpay Corporate Office\"},theme:{color:\"#40a0a0\"}};const rzp1=new window.Razorpay(options);rzp1.open();setCartProductRes(null);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Announcments,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:\"Cart\"}),fetchCartLoading?/*#__PURE__*/_jsx(Loading,{}):cartProductRes!==null&&cartProductRes!==void 0&&cartProductRes.products.length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Top,{children:[/*#__PURE__*/_jsx(TopButton,{children:\"Continue Shopping\"}),/*#__PURE__*/_jsxs(TopTexts,{children:[/*#__PURE__*/_jsx(TopText,{children:\"Shopping ba\"}),/*#__PURE__*/_jsx(TopText,{children:\"Your Wishlist\"})]}),/*#__PURE__*/_jsx(TopButton,{type:\"filled\",children:\"CheckOut Now\"})]}),/*#__PURE__*/_jsxs(Bottom,{children:[/*#__PURE__*/_jsxs(Info,{children:[cartProductRes===null||cartProductRes===void 0?void 0:(_cartProductRes$produ4=cartProductRes.products)===null||_cartProductRes$produ4===void 0?void 0:_cartProductRes$produ4.map(product=>/*#__PURE__*/_jsxs(Product,{children:[/*#__PURE__*/_jsx(DelButton,{onClick:()=>handleDeleteProduct(product.productID),children:/*#__PURE__*/_jsx(ClearOutlined,{style:{fontSize:\"40px\",color:\"#AB2A28\"}})}),/*#__PURE__*/_jsxs(ProductDeteail,{onClick:()=>navigate(`/product/${product._id}`),children:[/*#__PURE__*/_jsx(Image,{src:product.img}),/*#__PURE__*/_jsxs(Details,{children:[/*#__PURE__*/_jsxs(ProductName,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Product:\"}),\" \",product.title]}),/*#__PURE__*/_jsxs(ProductNumber,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"ID:\"}),\" \",product.productID]}),/*#__PURE__*/_jsx(ProductColor,{color:product.color}),/*#__PURE__*/_jsxs(ProductSize,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Size:\"}),\"  \",product.size]})]})]}),/*#__PURE__*/_jsxs(PriceDeteail,{children:[/*#__PURE__*/_jsxs(ProductAmmountContainer,{children:[/*#__PURE__*/_jsx(ValueARButton,{onClick:()=>handleProductQuantityChange(product.productID,--product.quantity),children:/*#__PURE__*/_jsx(Remove,{})}),/*#__PURE__*/_jsx(ProductAmmount,{children:product.quantity}),/*#__PURE__*/_jsx(ValueARButton,{onClick:()=>handleProductQuantityChange(product.productID,++product.quantity),children:/*#__PURE__*/_jsx(Add,{})})]}),/*#__PURE__*/_jsx(ProductPrice,{children:product.price})]})]},product.productID)),/*#__PURE__*/_jsx(Hr,{})]}),/*#__PURE__*/_jsxs(Summary,{children:[/*#__PURE__*/_jsx(SummaryTitle,{children:\"Products\"}),cartProductRes===null||cartProductRes===void 0?void 0:(_cartProductRes$produ5=cartProductRes.products)===null||_cartProductRes$produ5===void 0?void 0:_cartProductRes$produ5.map(product=>{var _ref;return/*#__PURE__*/_jsxs(SummaryItem,{children:[/*#__PURE__*/_jsx(SummaryText,{children:product.title}),/*#__PURE__*/_jsx(SummaryPrice,{children:(_ref=product.price*product.quantity)===null||_ref===void 0?void 0:_ref.toFixed(2)})]},product._id);}),/*#__PURE__*/_jsxs(SummaryItem,{type:\"total\",children:[/*#__PURE__*/_jsx(SummaryText,{children:\"Total\"}),/*#__PURE__*/_jsx(SummaryPrice,{children:totalCartPrice===null||totalCartPrice===void 0?void 0:totalCartPrice.toFixed(2)})]}),/*#__PURE__*/_jsx(ButtonWrapper,{children:/*#__PURE__*/_jsx(Button,{onClick:handleCheckout,disabled:isCheckoutLoading?true:false,children:\"Check out\"})})]})]})]}):/*#__PURE__*/_jsx(EmptyCartComponent,{}),/*#__PURE__*/_jsx(GetUserAddress,{setModal:setaddmodalIsOpen,isOpen:addmodalisOpen})]}),/*#__PURE__*/_jsx(NewsLetter,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default CartPage;","map":{"version":3,"names":["React","useEffect","useState","Announcments","Navbar","styled","NewsLetter","Footer","Add","ClearOutlined","Remove","mobile","useSelector","useDispatch","useNavigate","userRequest","deleteProduct","addDynamicScript","setError","EmptyCartComponent","Loading","setAddress","GetUserAddress","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","Wrapper","Title","Top","TopButton","button","props","type","TopTexts","display","TopText","span","Bottom","Info","Product","flexDirection","margin","DelButton","top","ProductDeteail","flex","width","Image","img","Details","ProductName","ProductNumber","ProductColor","color","ProductSize","PriceDeteail","marginTop","ProductAmmountContainer","ValueARButton","ProductAmmount","ProductPrice","Hr","hr","Summary","SummaryTitle","h1","SummaryItem","SummaryText","SummaryPrice","ButtonWrapper","Button","borderRadius","CartPage","_cartProductRes$produ","_cartProductRes$produ4","_cartProductRes$produ5","dispatch","navigate","cartProductRes","setCartProductRes","fetchCartLoading","setFetchCartLoading","document","title","user","state","_state$user","currentUser","res","get","_id","data","err","console","log","response","message","totalCartPrice","setTotalCartPrice","total","products","reduce","item","price","quantity","map","p","handleDeleteProduct","id","_cartProductRes$produ2","filteredProducts","filter","productID","e","delete","error","handleProductQuantityChange","put","productIndex","findIndex","newProduct","addmodalisOpen","setaddmodalIsOpen","isCheckoutLoading","setischeckoutLoading","userAddress","address","handleCheckout","_cartProductRes$produ3","ok","window","Razorpay","order","post","userInfo","name","firstName","lastName","email","key","options","amount","ammount","currency","description","length","image","order_id","callback_url","prefill","contact","number","notes","theme","rzp1","open","children","product","onClick","style","fontSize","src","size","_ref","toFixed","disabled","setModal","isOpen"],"sources":["M:/first-react/panara/react/src/pages/CartPage.js"],"sourcesContent":["import React, { useEffect, useState}from 'react'\r\nimport Announcments from '../components/Announcments'\r\nimport Navbar from '../components/Navbar'\r\nimport styled from 'styled-components'\r\nimport NewsLetter from '../components/NewsLetter'\r\nimport Footer from '../components/Footer'\r\nimport { Add, ClearOutlined, Remove } from '@material-ui/icons'\r\nimport { mobile } from '../Responsive'\r\nimport  { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { userRequest } from '../axiosReqMethods'\r\nimport { deleteProduct } from '../redux/cartRedux'\r\nimport addDynamicScript from '../helpers/addDynamicScript'\r\nimport { setError } from '../redux/errorRedux'\r\nimport EmptyCartComponent from '../components/EmptyCartComponent'\r\nimport Loading from '../components/Loading'\r\nimport { setAddress } from '../redux/userRedux'\r\nimport GetUserAddress from '../components/GetUserAddress'\r\n\r\n\r\n\r\n\r\nconst Container = styled.div``\r\nconst Wrapper = styled.div`\r\n    padding: 20px;\r\n`\r\nconst Title = styled.div`\r\n    font-weight: 300;\r\n    text-align: center;\r\n`\r\nconst Top = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 20px;\r\n`\r\nconst TopButton = styled.button`\r\n    padding: 10px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    border: ${props=> props.type ===\"filled\" && \"none\"};\r\n    background-color: ${props=> props.type ===\"filled\" ? \"Black\" : \"transparent\"};\r\n    color: ${props=> props.type ===\"filled\" && \"white\"};\r\n    \r\n`\r\nconst TopTexts = styled.div`\r\n    ${mobile({\r\n        display: \"none\",\r\n    })} \r\n`\r\nconst TopText = styled.span`\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    margin: 10px;\r\n`\r\n\r\nconst Bottom = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    //flex-direction: column;\r\n    @media only screen and (max-width: 970px) {\r\n        flex-direction: column;\r\n        align-items: center;       \r\n    }\r\n`\r\nconst Info = styled.div`\r\n    flex: 3;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    @media only screen and (max-width: 970px) {\r\n        align-items: center;       \r\n    }\r\n\r\n`\r\n\r\n\r\n\r\nconst Product = styled.div`\r\n    flex: 2;\r\n    display: flex;\r\n    margin: 10px 0px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    background-color: #f7f7f7;\r\n    margin-right: 20px;\r\n    transition: all 0.3s ease-in-out;\r\n\r\n    ${mobile({\r\n        flexDirection: \"column\",  \r\n        margin: \"10px 5px\",\r\n    })} \r\n    @media only screen and (max-width: 970px) {\r\n        width: 99%;\r\n    }\r\n\r\n    :hover{\r\n      box-shadow: 0px 0px 5px #888888;\r\n      transform: scale(1.02);\r\n    }\r\n`\r\nconst DelButton = styled.div`\r\n    \r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n\r\n    ${mobile({\r\n        top: \"45%\"\r\n    })}\r\n    \r\n`\r\n\r\nconst ProductDeteail = styled.div`\r\n    flex: 2;\r\n    width: 100%;\r\n    display: flex;\r\n    ${mobile({\r\n        flex: \"1\",\r\n        width: \"100vw\",\r\n    })} \r\n`\r\nconst Image = styled.img`\r\n    width: 200px;\r\n    max-width: 30%;\r\n    object-fit: cover;\r\n\r\n`\r\nconst Details = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n    flex-direction: column;\r\n    max-width: fit-content;\r\n    padding-right: 10px;\r\n    justify-content: space-around;\r\n    margin: 10px;\r\n    ${mobile({\r\n        width: \"100%\",\r\n    })} \r\n    `\r\nconst ProductName = styled.span`\r\n`\r\nconst ProductNumber = styled.span``\r\nconst ProductColor = styled.div`\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    background-color: ${props => props.color};\r\n`\r\nconst ProductSize = styled.span``\r\nconst PriceDeteail =styled.div`    \r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    ${mobile({\r\n        marginTop: \"1rem\",\r\n        \r\n    })} \r\n    \r\n`\r\n\r\n\r\nconst ProductAmmountContainer = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 700;\r\n    \r\n    \r\n`\r\nconst ValueARButton = styled.div`\r\n    cursor: pointer;\r\n    margin: 0 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    &:active {\r\n        transform:scale(1.1);\r\n     }\r\n`\r\n\r\nconst ProductAmmount = styled.div`\r\n    height: 30px;\r\n    width: 30px; \r\n    border: solid 1px teal;\r\n    padding :5px ;\r\n    border-radius: 10%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    \r\n`\r\nconst ProductPrice = styled.span`\r\n    margin: 20px 0px;\r\n    font-weight: 600;\r\n    font-size: 1.2rem;\r\n    &:hover {\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst Hr = styled.hr`\r\n    background-color: #eee;\r\n    height: 1px;\r\n    border: none;\r\n`\r\n\r\n\r\nconst Summary = styled.div`\r\n    flex: 1;\r\n    max-height: 50vh;\r\n    width: 350px;\r\n    max-width: 100%;\r\n    border: solid lightgray 1px;\r\n    border-radius: 2vmax;\r\n    padding: 10px;\r\n    @media only screen and (max-width: 970px) {\r\n        width: 90%;\r\n    }\r\n`\r\n\r\nconst SummaryTitle = styled.h1`\r\n    font-weight: 300;\r\n    margin: 10px 0px;\r\n`\r\nconst SummaryItem = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 5px 0px;\r\n    font-weight: ${props=> props.type === \"total\" && 600};\r\n    font-size: ${props=> props.type === \"total\" && 1.2}rem;\r\n    margin: ${props=> props.type === \"total\" && 10}px 0px;\r\n`\r\nconst SummaryText = styled.div`\r\n    white-space: nowrap;\r\n    width: 80%; \r\n    overflow: hidden;\r\n`\r\nconst SummaryPrice = styled.div`\r\n    \r\n`\r\nconst ButtonWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nconst Button = styled.button`\r\n    background-color: black;\r\n    cursor: pointer;   \r\n    color: white;\r\n    border: none;\r\n    padding: 20px;\r\n    width: 80%;\r\n    margin-top: 20px;\r\n\r\n    :disabled {\r\n        background-color: #6b6d70;\r\n        cursor: not-allowed;\r\n    }\r\n\r\n    ${mobile({\r\n        width: \"50%\",\r\n        borderRadius: \"5%\"  ,   \r\n        \r\n    })} \r\n    \r\n    \r\n`\r\n\r\nfunction CartPage(props) {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate()\r\n    const [cartProductRes, setCartProductRes] = useState();\r\n    const [fetchCartLoading, setFetchCartLoading] = useState();\r\n\r\n    //to change title as soon as component mounts\r\n    useEffect(() => {\r\n        document.title = `PanaraIt - ${props.title}`\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n    \r\n    const user = useSelector(state => state?.user?.currentUser);\r\n\r\n\r\n    //get User Cart\r\n    useEffect( async () => {\r\n        if(user) {\r\n            try{      \r\n                setFetchCartLoading(true)         \r\n                const res = await userRequest.get(`/api/cart/info/${user._id}`)\r\n                setFetchCartLoading(false)\r\n                setCartProductRes(res.data)\r\n                \r\n            }catch(err){\r\n                console.log(\"error\", err)\r\n                setFetchCartLoading(false)\r\n                dispatch(setError(err.response.data.message))      //setting error       \r\n            }           \r\n        }\r\n        return () => {\r\n            setCartProductRes(null)\r\n        }\r\n    }, [])\r\n\r\n    //count cart total\r\n    const [totalCartPrice, setTotalCartPrice] = useState(0)\r\n    useEffect(() => {   \r\n        const total = cartProductRes?.products.reduce((total, item) => {\r\n            return total + (item.price * item.quantity)\r\n        },0)\r\n        setTotalCartPrice(total);\r\n    }, [cartProductRes?.products, cartProductRes?.products?.map(p => p.quantity)])//map is used bcz we need to reRender this component if any products quantity changes so we maped true every product quantity\r\n     \r\n    //delete product\r\n    const handleDeleteProduct = async (id) => {\r\n        try{\r\n            const filteredProducts = cartProductRes?.products?.filter(p => {\r\n                return id !== p.productID\r\n            })\r\n            setCartProductRes(e => ({...e, products: filteredProducts}))\r\n            dispatch(deleteProduct())\r\n            const res = await userRequest.delete(`/api/cart/${id}`)     \r\n            dispatch(setError(res.data.message))\r\n        }catch(error){\r\n            console.log(\"error\", error)\r\n            dispatch(setError(error.response.data.message))\r\n        }\r\n    }\r\n\r\n    //handle dec inc in product Quantity\r\n    const handleProductQuantityChange = async (productID, quantity) => {\r\n\r\n        if(quantity === 0 ) return handleDeleteProduct(productID)\r\n        try {\r\n            const res = await userRequest.put(`/api/cart/updatequantity/${productID}/${quantity}`)\r\n            const productIndex = cartProductRes.products.findIndex(p => p.productID === productID)\r\n            console.log({productIndex})\r\n            const newProduct = cartProductRes.products[productIndex].quantity = quantity\r\n            setCartProductRes(p => ({...p, newProduct}))\r\n            dispatch(setError(res.data.message))\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch(setError(error.response.data.message))\r\n        }\r\n    }\r\n\r\n    //get use address modal\r\n    const [addmodalisOpen, setaddmodalIsOpen] = useState(false)\r\n\r\n    const [isCheckoutLoading, setischeckoutLoading] = useState(false);\r\n    const userAddress = useSelector(state => state.user.address)   \r\n    const handleCheckout = async () => {\r\n\r\n        if(!user) {\r\n            return navigate('/login');\r\n        } \r\n\r\n        // if there is address then continue or set get address popup\r\n        console.log({userAddress})\r\n        if(!userAddress){  //if address is not stored in users local storage then get from db\r\n            try {\r\n                const {data} = await userRequest.get(\"/api/user/address\")\r\n                console.log(data)\r\n                if(!data.ok){\r\n                    return setaddmodalIsOpen(true);\r\n                }\r\n                dispatch(setAddress(data.address))  //setting address wh to redux       \r\n            } catch (error) {\r\n                return setaddmodalIsOpen(true)\r\n            }\r\n        }\r\nconsole.log(\"Mihir1\");\r\n\r\n\r\n        setischeckoutLoading(true) \r\n        if(!window.Razorpay) {\r\n            await addDynamicScript(\"https://checkout.razorpay.com/v1/checkout.js\") //script is not loading at first time dk why so i added this XD\r\n        } \r\n        console.log(\"Mihir2\");\r\n\r\n        const {data:{order}} = await userRequest.post(\"api/buy/checkout\",{\r\n            user:user._id,\r\n            type: \"cart\",\r\n            userInfo: {\r\n                address: userAddress,\r\n                name: `${user.firstName} ${user.lastName}`,\r\n                email: user.email,\r\n            }\r\n        });\r\n        console.log(\"MIhir3\");\r\n        \r\n\r\n        const {data:{key}} = await userRequest.get(\"api/buy/getkey\");\r\n        setischeckoutLoading(false) \r\n\r\n        if(!order || !key){\r\n            return dispatch(setError(\"error accured while creating order\"));\r\n        }\r\n          \r\n        const options = {\r\n          key: key, //reciving key from backend for security purpose\r\n          amount: order.ammount,\r\n          currency: \"INR\",\r\n          name: `${user.firstName} ${user.lastName}'s Cart`,\r\n          description: `${user.firstName} ${user.lastName}'s Cart includes total ${cartProductRes?.products?.length}`,\r\n          image:\r\n            \"https://toppng.com/uploads/preview/astronaut-art-png-jpg-royalty-free-stock-astronauta-dibujo-11562856188offwkk8qo8.png\",\r\n          order_id: order.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\r\n          callback_url:\r\n            \"https://panara-backend-1.onrender.com/api/buy/paymentVerify\",\r\n          prefill: {\r\n            name: `${user.firstName} ${user.lastName}`,\r\n            email: user.email,\r\n            contact: user.number,\r\n          },\r\n          notes: {\r\n            address: \"Razorpay Corporate Office\",\r\n          },\r\n          theme: {\r\n            color: \"#40a0a0\",\r\n          },\r\n        };      \r\n        const rzp1 = new window.Razorpay(options);\r\n        rzp1.open();       \r\n        setCartProductRes(null)\r\n    }\r\n    \r\n\r\n\r\n  return (\r\n    <Container>\r\n        <Announcments/>\r\n        <Navbar/>\r\n        <Wrapper>\r\n            <Title>Cart</Title>\r\n            {fetchCartLoading ? <Loading/> :\r\n            (cartProductRes?.products.length\r\n            ? <>\r\n            <Top>\r\n                <TopButton >Continue Shopping</TopButton>\r\n                <TopTexts>\r\n                    <TopText>Shopping ba</TopText>\r\n                    <TopText>Your Wishlist</TopText>\r\n                </TopTexts>\r\n                <TopButton type=\"filled\">CheckOut Now</TopButton>\r\n            </Top>\r\n            <Bottom>\r\n                <Info>    \r\n                    {cartProductRes?.products?.map((product) => (\r\n                        <Product key={product.productID}>\r\n                            <DelButton onClick={() => handleDeleteProduct(product.productID)}>\r\n                                <ClearOutlined style={{fontSize: \"40px\" , color: \"#AB2A28\"}}/>\r\n                            </DelButton>\r\n                            <ProductDeteail onClick={() => navigate(`/product/${product._id}`)}>\r\n                                <Image src={product.img}/>\r\n                                <Details>\r\n                                    <ProductName><b>Product:</b> {product.title}</ProductName>\r\n                                    <ProductNumber><b>ID:</b> {product.productID}</ProductNumber>\r\n                                    <ProductColor color={product.color}/>\r\n                                    <ProductSize><b>Size:</b>  {product.size}</ProductSize>\r\n                                </Details>\r\n                            </ProductDeteail>\r\n                            <PriceDeteail>\r\n                                <ProductAmmountContainer>\r\n                                    <ValueARButton onClick={() => handleProductQuantityChange(product.productID, --product.quantity)}>\r\n                                        <Remove/>\r\n                                    </ValueARButton>\r\n                                    <ProductAmmount>{product.quantity}</ProductAmmount>\r\n                                    <ValueARButton onClick={() => handleProductQuantityChange(product.productID, ++product.quantity)}>\r\n                                        <Add/>\r\n                                    </ValueARButton>\r\n                                \r\n                                </ProductAmmountContainer>\r\n                                <ProductPrice>{product.price}</ProductPrice>\r\n                            </PriceDeteail>\r\n                        </Product>\r\n                    ))}\r\n                    <Hr/>\r\n                </Info>\r\n                <Summary>\r\n                    <SummaryTitle>Products</SummaryTitle>\r\n                        {cartProductRes?.products?.map((product) => (\r\n                            <SummaryItem key={product._id}>\r\n                                <SummaryText>{product.title}</SummaryText>\r\n                                <SummaryPrice>{(product.price * product.quantity)?.toFixed(2)}</SummaryPrice>\r\n                            </SummaryItem>\r\n                        ))}\r\n                        <SummaryItem type=\"total\">\r\n                            <SummaryText >Total</SummaryText>\r\n                            <SummaryPrice>{totalCartPrice?.toFixed(2)}</SummaryPrice>\r\n                        </SummaryItem>\r\n                        <ButtonWrapper>\r\n                            <Button onClick={handleCheckout} disabled={isCheckoutLoading? true : false}>Check out</Button>\r\n                        </ButtonWrapper>    \r\n                </Summary>\r\n            \r\n            </Bottom>\r\n            </>\r\n            : <EmptyCartComponent/>)}\r\n            <GetUserAddress setModal={setaddmodalIsOpen} isOpen={addmodalisOpen} />\r\n        </Wrapper>\r\n        <NewsLetter/>\r\n        <Footer/>\r\n        \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default CartPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}