{"ast":null,"code":"var _jsxFileName = \"M:\\\\first-react\\\\panara\\\\react\\\\src\\\\components\\\\WriteaReview.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ModalComp from \"./ModalComp\";\nimport styled from \"styled-components\";\nimport { Rating } from \"@mui/material\";\nimport { userRequest } from \"../axiosReqMethods\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setError } from \"../redux/errorRedux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  text-align: center;\n`;\n_c = Container;\nconst UserWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 10px;\n`;\n_c2 = UserWrapper;\nconst Image = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n`;\n_c3 = Image;\nconst Name = styled.span`\n  font-size: 20px;\n`;\n_c4 = Name;\nconst RatingWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  max-height: 300px;\n`;\n_c5 = RatingWrapper;\nconst TextBox = styled.textarea`\n  width: 400px;\n  max-width: 90%;\n  border: 3px solid rgb(125, 0, 171);\n  font-size: 15px;\n  padding: 10px 10px;\n  height: 150px;\n  border-radius: 1vmin;\n`;\n_c6 = TextBox;\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n`;\n_c7 = ButtonWrapper;\nconst Button = styled.button`\n  margin: 10px;\n  padding: 10px 20px;\n  border-radius: 1vmax;\n  border: 1px solid rgb(125, 0, 171);\n  background-color: ${p => (p === null || p === void 0 ? void 0 : p.T) === \"submit\" ? \"rgb(125, 0, 171)\" : \"white\"};\n  font-weight: 600;\n  color: ${p => p.T === \"submit\" ? \"white\" : \"rgb(125, 0, 171)\"};\n  cursor: pointer;\n\n  &:disabled {\n    background-color: #c0f3f3;\n    border: 1px solid #c0f3f3;\n    cursor: not-allowed;\n    color: black;\n  }\n`;\n_c8 = Button;\nfunction WriteaReview({\n  product,\n  isOpen,\n  setModal\n}) {\n  _s();\n  const dispatch = useDispatch();\n  const user = useSelector(d => d.user.currentUser);\n  const [review, setReview] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const handleSubmit = async () => {\n    try {\n      const {\n        data\n      } = await userRequest.post(`/api/review/${product._id}`, {\n        rating,\n        review\n      });\n      dispatch(setError(data.message));\n      setModal(false);\n    } catch (error) {\n      dispatch(setError(error.response.data.message));\n      setRating(0);\n      setReview(\"\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ModalComp, {\n    isOpen: isOpen,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: user === null || user === void 0 ? void 0 : user.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Name, {\n          children: `${user === null || user === void 0 ? void 0 : user.firstName} ${user === null || user === void 0 ? void 0 : user.lastName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RatingWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Rating, {\n          style: {\n            fontSize: \"40px\"\n          },\n          value: rating,\n          onChange: (e, newValue) => {\n            setRating(newValue);\n          },\n          precision: 0.1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          placeholder: \"Share your thoughts on this product...\",\n          value: review,\n          onChange: e => setReview(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setModal(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          T: \"submit\",\n          onClick: handleSubmit,\n          disabled: !review && !rating ? true : false,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(WriteaReview, \"ErT15FRX0+9Oq7utAq26at5PU98=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c9 = WriteaReview;\nexport default WriteaReview;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"UserWrapper\");\n$RefreshReg$(_c3, \"Image\");\n$RefreshReg$(_c4, \"Name\");\n$RefreshReg$(_c5, \"RatingWrapper\");\n$RefreshReg$(_c6, \"TextBox\");\n$RefreshReg$(_c7, \"ButtonWrapper\");\n$RefreshReg$(_c8, \"Button\");\n$RefreshReg$(_c9, \"WriteaReview\");","map":{"version":3,"names":["React","useState","ModalComp","styled","Rating","userRequest","useDispatch","useSelector","setError","jsxDEV","_jsxDEV","Container","div","_c","UserWrapper","_c2","Image","img","_c3","Name","span","_c4","RatingWrapper","_c5","TextBox","textarea","_c6","ButtonWrapper","_c7","Button","button","p","T","_c8","WriteaReview","product","isOpen","setModal","_s","dispatch","user","d","currentUser","review","setReview","rating","setRating","handleSubmit","data","post","_id","message","error","response","children","title","fileName","_jsxFileName","lineNumber","columnNumber","src","avatar","firstName","lastName","style","fontSize","value","onChange","e","newValue","precision","placeholder","target","onClick","disabled","_c9","$RefreshReg$"],"sources":["M:/first-react/panara/react/src/components/WriteaReview.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ModalComp from \"./ModalComp\";\r\nimport styled from \"styled-components\";\r\nimport { Rating } from \"@mui/material\";\r\nimport { userRequest } from \"../axiosReqMethods\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setError } from \"../redux/errorRedux\";\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n  text-align: center;\r\n`;\r\nconst UserWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\nconst Image = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n`;\r\nconst Name = styled.span`\r\n  font-size: 20px;\r\n`;\r\nconst RatingWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n  max-height: 300px;\r\n`;\r\nconst TextBox = styled.textarea`\r\n  width: 400px;\r\n  max-width: 90%;\r\n  border: 3px solid rgb(125, 0, 171);\r\n  font-size: 15px;\r\n  padding: 10px 10px;\r\n  height: 150px;\r\n  border-radius: 1vmin;\r\n`;\r\nconst ButtonWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: flex-end;\r\n`;\r\nconst Button = styled.button`\r\n  margin: 10px;\r\n  padding: 10px 20px;\r\n  border-radius: 1vmax;\r\n  border: 1px solid rgb(125, 0, 171);\r\n  background-color: ${(p) =>\r\n    p?.T === \"submit\" ? \"rgb(125, 0, 171)\" : \"white\"};\r\n  font-weight: 600;\r\n  color: ${(p) => (p.T === \"submit\" ? \"white\" : \"rgb(125, 0, 171)\")};\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background-color: #c0f3f3;\r\n    border: 1px solid #c0f3f3;\r\n    cursor: not-allowed;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nfunction WriteaReview({ product, isOpen, setModal }) {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((d) => d.user.currentUser);\r\n  const [review, setReview] = useState(\"\");\r\n  const [rating, setRating] = useState(0);\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const { data } = await userRequest.post(`/api/review/${product._id}`, {\r\n        rating,\r\n        review,\r\n      });\r\n      dispatch(setError(data.message));\r\n      setModal(false);\r\n    } catch (error) {\r\n      dispatch(setError(error.response.data.message));\r\n      setRating(0);\r\n      setReview(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ModalComp isOpen={isOpen}>\r\n      <Container>\r\n        <h1>{product.title}</h1>\r\n        <UserWrapper>\r\n          <Image src={user?.avatar} />\r\n          <Name>{`${user?.firstName} ${user?.lastName}`}</Name>\r\n        </UserWrapper>\r\n        <RatingWrapper>\r\n          <Rating\r\n            style={{ fontSize: \"40px\" }}\r\n            value={rating}\r\n            onChange={(e, newValue) => {\r\n              setRating(newValue);\r\n            }}\r\n            precision={0.1}\r\n          ></Rating>\r\n          <TextBox\r\n            placeholder=\"Share your thoughts on this product...\"\r\n            value={review}\r\n            onChange={(e) => setReview(e.target.value)}\r\n          ></TextBox>\r\n        </RatingWrapper>\r\n        <ButtonWrapper>\r\n          <Button onClick={() => setModal(false)}>Cancel</Button>\r\n          <Button\r\n            T=\"submit\"\r\n            onClick={handleSubmit}\r\n            disabled={!review && !rating ? true : false}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </ButtonWrapper>\r\n      </Container>\r\n    </ModalComp>\r\n  );\r\n}\r\n\r\nexport default WriteaReview;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}